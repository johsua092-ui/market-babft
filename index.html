<!DOCTYPE html>
<html>
<head>
    <title>OXYX | ULTRA-WATCH SYSTEM</title>
    <style>
        :root { --p-color: #b300ff; --danger: #ff0000; }
        body { background: #000; color: #fff; font-family: 'Courier New', monospace; padding: 20px; text-transform: uppercase; }
        .monitor { background: #050505; border: 1px solid #333; padding: 20px; border-radius: 5px; box-shadow: 0 0 20px rgba(179, 0, 255, 0.2); }
        .log-entry { border-bottom: 1px solid #111; padding: 10px 0; font-size: 12px; }
        .status-vpn { color: var(--danger); font-weight: bold; }
        .status-safe { color: #00ff00; }
        #blockScreen { 
            position: fixed; top:0; left:0; width:100%; height:100%; 
            background: #000; color: red; z-index: 10000; display: none;
            flex-direction: column; align-items: center; justify-content: center; text-align: center;
        }
        .whid-text { color: #00f2ff; font-weight: bold; }
    </style>
</head>
<body>

    <div id="blockScreen">
        <h1>[ ACCESS BLOCKED ]</h1>
        <p style="margin-top: 20px;">VPN / PROXY DETECTED.</p>
        <p>ANDA DIBLOKIR 24 JAM DARI OXYX NETWORK.</p>
        <p id="countdown" style="font-size: 2em; margin-top: 10px;"></p>
    </div>

    <div class="monitor">
        <h2 style="color: var(--p-color);">ðŸ“¡ OXYX LIVE FORENSIC TRACKER</h2>
        <div id="logHeader" style="margin-top: 20px; color: #555;">SCANNING NETWORK...</div>
        <div id="logDisplay"></div>
    </div>

    <script>
        const OWNER_ID = "oxyX Britania9920";

        // 1. GENERASI WHID (HARDWARE FINGERPRINT) - CEPAT & AKURAT
        function generateWHID() {
            const canvas = document.createElement('canvas');
            const gl = canvas.getContext('webgl');
            const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
            const renderer = gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL);
            // Kombinasi GPU + Core CPU + Screen + User Agent
            const rawId = renderer + navigator.hardwareConcurrency + screen.width + navigator.userAgent;
            return "WHID-" + btoa(rawId).substring(0, 12).toUpperCase();
        }

        // 2. PELACAKAN IP & ANTI-VPN (AUTO BLOCK 24 JAM)
        async function startSecurityScan() {
            try {
                // Mengambil data IP & Geolocation
                const response = await fetch('https://ipapi.co/json/');
                const data = await response.json();
                const whid = generateWHID();

                // Deteksi VPN/Proxy Berdasarkan ISP (Datacenter detection)
                // Jika ISP mengandung kata kunci provider VPN/Server, maka BLOCK
                const vpnKeywords = ['vpn', 'proxy', 'hosting', 'datacenter', 'cloud', 'digitalocean', 'google cloud', 'ovh', 'linode', 'vultr', 'mullvad', 'nord', 'expressvpn'];
                const isVPN = vpnKeywords.some(key => data.org.toLowerCase().includes(key));

                // 3. LOGIKA PEMBLOKIRAN
                const blockUntil = localStorage.getItem('oxy_block_time');
                const now = Date.now();

                if (blockUntil && now < blockUntil) {
                    activateBlockScreen(blockUntil);
                    return;
                }

                if (isVPN) {
                    // Set Blockir 24 Jam (86400000 ms)
                    const expire = Date.now() + 86400000;
                    localStorage.setItem('oxy_block_time', expire);
                    activateBlockScreen(expire);
                    return;
                }

                // TAMPILKAN DATA KE PANEL OWNER
                addLogEntry(data.ip, data.org, whid, data.city);

            } catch (err) {
                console.error("Security Bypass Attempted.");
            }
        }

        function activateBlockScreen(expire) {
            document.getElementById('blockScreen').style.display = 'flex';
            setInterval(() => {
                const remaining = expire - Date.now();
                const hours = Math.floor(remaining / 3600000);
                const mins = Math.floor((remaining % 3600000) / 60000);
                document.getElementById('countdown').innerText = `${hours}H ${mins}M REMAINING`;
            }, 1000);
        }

        function addLogEntry(ip, isp, whid, city) {
            const display = document.getElementById('logDisplay');
            const entry = `
                <div class="log-entry">
                    [${new Date().toLocaleTimeString()}] 
                    IP: <span style="color:#00ff00">${ip}</span> | 
                    LOC: <span style="color:white">${city}</span> | 
                    ISP: <span style="color:orange">${isp}</span> | 
                    WHID: <span class="whid-text">${whid}</span> | 
                    SEC: <span class="status-safe">CLEAN</span>
                </div>
            `;
            display.innerHTML = entry + display.innerHTML;
        }

        function actionPurge() {
            if (localStorage.getItem('oxy_fp') === OWNER_ID) {
                startSecurityScan();
            } else {
                alert("ACCESS DENIED: OWNER ONLY");
            }
        }

        // Jalankan pelacakan seketika
        startSecurityScan();
        
        // Anti-Bypass (F12, Right Click)
        window.oncontextmenu = () => false;
        setInterval(() => { debugger; }, 100);
    </script>
</body>
</html>
